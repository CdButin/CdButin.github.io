<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Baby Dianne ‚ù§Ô∏è</title>

    <link href="https://fonts.googleapis.com/css2?family=Imperial+Script&family=Segoe+UI:wght@400;600&display=swap"
        rel="stylesheet">

    <style>
        body {
            margin: 0;
            font-family: 'Imperial Script', cursive;
            background: linear-gradient(135deg, #ff758c, #ff7eb3);
            height: 100vh;
            width: 100vw;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #333;
            font-size: 20px;
            /* Scaled down for single view */
            overflow: hidden;
            /* No scroll */
        }

        /* Carousel Styles */
        .carousel {
            margin: 20px auto;
            width: 100%;
            max-width: 320px;
            height: 200px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .slide {
            display: none;
            width: 100%;
            height: 100%;
            background: #fdf2f5;
            /* Subtle background for images with gap */
        }

        .slide img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            /* Shows the full image without cropping */
        }

        .fade {
            animation-name: fade;
            animation-duration: 1.5s;
        }

        @keyframes fade {
            from {
                opacity: .4
            }

            to {
                opacity: 1
            }
        }

        .card {
            background: white;
            width: 90%;
            max-width: 400px;
            max-height: 95vh;
            /* Fits within view */
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.25);
            text-align: center;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        h2,
        h1,
        h3 {
            font-family: 'Imperial Script', cursive;
            font-weight: 400;
            margin: 5px 0;
            line-height: 1.1;
        }

        h1 {
            font-size: 2.2em;
        }

        h2 {
            font-size: 1.8em;
        }

        h3 {
            font-size: 1.5em;
        }

        /* Keep inputs and buttons readable */
        input,
        button {
            font-family: 'Segoe UI', sans-serif;
        }

        input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border-radius: 12px;
            border: 1px solid #ddd;
            font-size: 18px;
            /* Slightly larger for inputs */
            box-sizing: border-box;
            /* Ensure padding doesn't affect width */
        }

        button {
            width: 100%;
            padding: 14px;
            background: #ff4f7a;
            color: white;
            border: none;
            border-radius: 14px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
            transition: background 0.3s;
        }

        button.secondary {
            background: #f8a5c2;
        }

        button.secondary:hover {
            background: #f78fb3;
        }

        button:hover {
            background: #ff2f63;
        }

        .hidden {
            display: none;
        }

        /* Step styles */
        .step {
            display: none;
            animation: fadeIn 0.5s;
        }

        .step.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .error {
            color: red;
            margin-top: 10px;
            font-size: 14px;
        }

        #typing {
            font-size: 22px;
            /* Balanced for Imperial Script */
            line-height: 1.3;
            margin-top: 10px;
            min-height: 100px;
            max-height: 200px;
            /* Control area */
            overflow: hidden;
            white-space: pre-line;
        }

        .countdown {
            margin-top: 20px;
            background: #ffe3ec;
            padding: 15px;
            border-radius: 15px;
            font-weight: bold;
        }

        /* Floating Hearts Background */
        .heart-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }

        .heart {
            position: absolute;
            bottom: -10vh;
            font-size: 20px;
            color: rgba(255, 255, 255, 0.6);
            animation: floatUp linear infinite;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(0) scale(1);
                opacity: 0;
            }

            10% {
                opacity: 0.8;
            }

            100% {
                transform: translateY(-110vh) scale(1.5);
                opacity: 0;
            }
        }
    </style>
</head>

<body>

    <div class="heart-bg" id="heart-bg"></div>

    <div class="card">

        <!-- QUIZ -->
        <div id="quiz">
            <h2>Before the surprise‚Ä¶ üíñ</h2>
            <p style="margin-bottom: 20px; color: #666;">Answer these correctly, Baby Dianne üòò</p>

            <!-- Step 1: Meet -->
            <div class="step active" id="step-1">
                <h3>When did we first meet? ü´£</h3>
                <input type="date" id="meet">
                <button onclick="nextStep(2)">Next ‚û°Ô∏è</button>
            </div>

            <!-- Step 2: Kiss -->
            <div class="step" id="step-2">
                <h3>When was our first kiss? üíã</h3>
                <input type="date" id="kiss">
                <div style="display: flex; gap: 10px;">
                    <button class="secondary" onclick="prevStep(1)">‚¨ÖÔ∏è Back</button>
                    <button onclick="nextStep(3)">Next ‚û°Ô∏è</button>
                </div>
            </div>

            <!-- Step 3: Official -->
            <div class="step" id="step-3">
                <h3>When did we become official? üë©‚Äç‚ù§Ô∏è‚Äçüë®</h3>
                <input type="date" id="official">
                <div style="display: flex; gap: 10px;">
                    <button class="secondary" onclick="prevStep(2)">‚¨ÖÔ∏è Back</button>
                    <button onclick="checkAnswers()">Unlock My Heart ‚ù§Ô∏è</button>
                </div>
            </div>

            <div class="error" id="error"></div>
        </div>

        <!-- MESSAGE -->
        <div id="content" class="hidden">
            <h1>Happy 2nd Monthsary üíï</h1>
            <h3>To my most beautiful Baby Dianne</h3>

            <!-- Carousel -->
            <div class="carousel">
                <div class="slide fade">
                    <img src="im1.jpeg" alt="Memory 1">
                </div>
                <div class="slide fade">
                    <img src="im2.jpeg" alt="Memory 2">
                </div>
                <div class="slide fade">
                    <img src="im3.jpeg" alt="Memory 3">
                </div>
            </div>

            <div id="typing"></div>

            <div class="countdown" id="countdown"></div>
        </div>

    </div>

    <script>
        // CORRECT ANSWERS
        const correctMeet = "2025-05-17";
        const correctKiss = "2025-05-17"; // change if different
        const correctOfficial = "2025-12-07";

        // Navigation Logic
        function nextStep(stepNumber) {
            // Optional: Validate current step input before moving?
            // For now, allowing free navigation, or we could strict check existing input
            const currentStep = stepNumber - 1;
            let val = "";
            if (currentStep === 1) val = document.getElementById("meet").value;
            if (currentStep === 2) val = document.getElementById("kiss").value;

            if (!val) {
                document.getElementById("error").innerText = "Please pick a date first, love! ü•∫";
                return;
            } else {
                document.getElementById("error").innerText = "";
            }

            document.querySelectorAll('.step').forEach(el => el.classList.remove('active'));
            document.getElementById(`step-${stepNumber}`).classList.add('active');
        }

        function prevStep(stepNumber) {
            document.getElementById("error").innerText = "";
            document.querySelectorAll('.step').forEach(el => el.classList.remove('active'));
            document.getElementById(`step-${stepNumber}`).classList.add('active');
        }

        function checkAnswers() {
            const meet = document.getElementById("meet").value;
            const kiss = document.getElementById("kiss").value;
            const official = document.getElementById("official").value;

            if (meet === correctMeet && kiss === correctKiss && official === correctOfficial) {
                document.getElementById("quiz").classList.add("hidden");
                document.getElementById("content").classList.remove("hidden");
                startTyping();
                startCountdown();
                showSlides();
            } else {
                document.getElementById("error").innerText =
                    "Hmm‚Ä¶ something‚Äôs not right. Try again, love üíó";
            }
        }

        // TYPING EFFECT
        const message = `Happy 2nd Monthsary, my Baby Dianne ‚ù§Ô∏è

Every moment with you feels like home.
Thank you for choosing me, loving me,
and growing with me day by day.

No matter what happens,
I promise to keep loving you,
choosing you, and holding your hand.

I love you so much, Baby Dianne üíï`;

        let charIndex = 0;
        function startTyping() {
            const typingDiv = document.getElementById("typing");
            if (charIndex < message.length) {
                typingDiv.innerHTML += message.charAt(charIndex) === "\n" ? "<br>" : message.charAt(charIndex);
                charIndex++;
                setTimeout(startTyping, 50); // Typing speed
            }
        }

        // COUNTDOWN TIMER
        function startCountdown() {
            const startDate = new Date("2025-12-12");

            setInterval(() => {
                const now = new Date();
                const diff = now - startDate;

                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
                const minutes = Math.floor((diff / (1000 * 60)) % 60);
                const seconds = Math.floor((diff / 1000) % 60);

                document.getElementById("countdown").innerHTML =
                    `We've been together for<br>
         ${days} days ${hours} hrs ${minutes} mins ${seconds} secs üíû`;
            }, 1000);
        }

        // CAROUSEL LOGIC
        let slideIndex = 0;
        function showSlides() {
            let i;
            let slides = document.getElementsByClassName("slide");
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            slideIndex++;
            if (slideIndex > slides.length) { slideIndex = 1 }
            slides[slideIndex - 1].style.display = "block";
            setTimeout(showSlides, 3000); // Change image every 3 seconds
        }

        // BACKGROUND HEARTS
        function createHearts() {
            const bg = document.getElementById('heart-bg');
            const hearts = ['‚ù§Ô∏è', 'üíñ', 'üíï', 'üíó', 'üíì'];

            setInterval(() => {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                heart.innerText = hearts[Math.floor(Math.random() * hearts.length)];

                // Randomize position and animation
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 3 + 4) + 's'; // 4-7s
                heart.style.fontSize = (Math.random() * 20 + 20) + 'px'; // 20-40px

                bg.appendChild(heart);

                // Remove after animation to prevent memory leak
                setTimeout(() => {
                    heart.remove();
                }, 7000);
            }, 500);
        }

        createHearts();
    </script>

</body>

</html>